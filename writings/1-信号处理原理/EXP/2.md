# 信号处理原理 实验 2<br/>实验报告 #

李祥泽 2018011331

## 实验原理 ##

语⾳的频带分布通常在 300 Hz 到 3400 Hz, 以 8kHz 采样后的数字⾳频信号可以认为是频带受限的信号.  经过对语⾳进⾏适当处理, 可以使多路不同的语⾳的频带在频域互不重叠, 从⽽实现多路语⾳同时传输的⽬的. 这就是通信领域中频分复⽤的原理. 

## 实验任务 ##

找 4 段不同的, ⻓度为 30 s 的语⾳来验证 “频分复⽤原理”. 要求流程如下: 

-   预处理⾳频信号: 统⼀原始信号的采样率⾄ 8000 Hz, 过滤 3400 Hz 以上的频率;
-   编码处理: 对预处理的⾳频进⾏编码处理, 将多段⾳频调制到⼀段⾳频中;
-   解码处理: 对编码处理后的数据进⾏解码处理, 要求将叠加在⼀起的多路语⾳分开, 得到多路语⾳, 应保证失真尽可能⼩

## 实验过程 ##

使用的音频是相声小段《追》(马三立). 

在读入时将前 120 秒截取为 4 份作为原始语音, 并统一采样率到 8 kHz. 

对每一段原始信号做 FFT, 然后将**中部**表示 3.4 kHz 以上的部分置为 0. 

将各段的频谱和适当的填充 0 相连, 得到频分复用信号的频谱; 对该频谱做 IFFT, 得到频分复用信号. 

对频分复用信号做 FFT, 得到的频谱适当拆分, 得到各个解调信号的频谱, 再做 IFFT 得到解调信号. 

将解调信号和原始信号计算 MSE. 

## 实验结果 ##

### 原始信号. 左: 原始时域, 中: 原始频域, 右: 滤波之后频域 ###

<center>
    <figure>
        <img src="fig/time_0_n.png" style="width:32%" />
		<img src="fig/freq_0_n.png" style="width:32%" />
    	<img src="fig/freq_0.png" style="width:32%"/>	
	</figure>
</center>

<center>
    <figure>
        <img src="fig/time_0_n.png" style="width:32%" />
		<img src="fig/freq_0_n.png" style="width:32%" />
    	<img src="fig/freq_0.png" style="width:32%"/>	
	</figure>
</center>

<center>
    <figure>
        <img src="fig/time_1_n.png" style="width:32%" />
		<img src="fig/freq_1_n.png" style="width:32%" />
    	<img src="fig/freq_1.png" style="width:32%"/>	
	</figure>
</center>

<center>
    <figure>
        <img src="fig/time_2_n.png" style="width:32%" />
		<img src="fig/freq_2_n.png" style="width:32%" />
    	<img src="fig/freq_2.png" style="width:32%"/>	
	</figure>
</center>

<center>
    <figure>
        <img src="fig/time_3_n.png" style="width:32%" />
		<img src="fig/freq_3_n.png" style="width:32%" />
    	<img src="fig/freq_3.png" style="width:32%"/>	
	</figure>
</center>

### 频分复用信号. 左: 频域, 右: 时域 ###

<center>
    <figure>
		<img src="fig/freq_encoded.png" style="width:45%" />
    	<img src="fig/time_encoded.png" style="width:45%"/>	
	</figure>
</center>


### 解调信号, 时域.  ###

<center>
    <figure>
        <img src="fig/time_0_decoded.png" style="width:45%" />        
        <img src="fig/time_1_decoded.png" style="width:45%" />       
        <img src="fig/time_2_decoded.png" style="width:45%" />  
        <img src="fig/time_3_decoded.png" style="width:45%" />
	</figure>
</center>

### MSE ###

用解调信号和滤波之后的信号计算 MSE, 均小于 10^-8^. 

用解调信号和原始信号计算 MSE, 结果如下: 

1.  0.0001291775127009392
2.  0.00012151131487249216
3.  0.00019434403304192455
4.  0.00012386412234122326

可见几乎没有失真. 

## 提交文件 ##

```
2018011331_李祥泽_lab-2.zip
|- data
|   \- src.wav
|- inter
|   |- x_original.wav for x in range(4)
|   \- x_filtered.wav for x in range(4)
|- output
|   |- x_decoded.wav for x in range(4)
|   \- mixed.wav
|- exp2.py
\- Report.pdf
```

`data` 目录下为完整音频, `inter` 下为分段后音频和滤波后音频. `output` 下为调制后音频和解调后音频. 