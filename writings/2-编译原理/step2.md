<h1 style="text-align:center">编译原理 MiniDecaf 编译器实验<br/><big>Step 2 实验报告</big></h1>
<p style="text-align:right">李祥泽<br/><small>2018011331<br/>lixiangz18@mails.tsinghua.edu.cn</small></p>

## 实验内容 ##

### 实现一元运算符 `!`, `~`, `-` ###

依照实验指导书中提示的一元运算语法, 编写 g4 文件, 并在对应的 Visitor 中实现 IR 生成和 IR 到汇编的生成.

指导书中给出的上下文无关语法已经很好地考虑了运算符的结合性, 因此直接采用了 (修改了一些名字以符合个人代码习惯).

## 思考题 ##

### 请设计一个表达式, 只使用 `-~!` 这三个单目运算符和 $[0, 2^{31} - 1]$ 范围内的非负整数, 使得运算过程中发生越界.  ###

我的答案是 `-(~0x7FFFFFFF)`. *虽然实现的编译器不支持 16 进制数字字面量, 为了方便还是这样写了*

发生越界的过程是: `~` 运算得到 `0x80000000` ($-2^{31}$), 再做 `-` 运算时, 理应得到 $+2^{31}$, 但它超出了 32 位补码有符号数的表示范围, 实际仍然得到 `0x80000000`. 这是由补码表示的负数范围比正数范围多 1 导致的.

## Honor Code ##

主要参考实验指导书实现.
