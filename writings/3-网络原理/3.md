<h1 style="text-align:center"><small>计算机网络原理</small><br/>作业 3</h1>
<p style="text-align:right">李祥泽<br/>2018011331</p>

## 3.1 ##

由于该消息被分为 10 帧, 每帧成功到达的概率是 0.8, 且协议中没有差错控制; 这条消息在一次发送中成功的概率是
$$
p=0.8^{10}\approx 0.107
$$
那么, 该消息在第 $X$ 次发送才成功发送的概率是
$$
P(X)=(1-p)^{X-1} \cdot p
$$
说明该次数服从几何分布. 那么其期望是
$$
E(X)=\frac{1}{p} \approx 9.3
$$

## 3.2 ##

**(a)** `00000100 01000111 11100011 11100000 01111110`

**(b)** `01111110 01000111 11100011 11100000 11100000 11100000 01111110 01111110`

**(c)** `01111110 01000111 110100011 111000000 011111010 01111110 `

## 3.9 ##

使用扩展海明码, 16 个数据位需要 5 个校验位, 插入在第 1, 2, 4, 8, 16 位. 

发送的位串是 `01111011 00110011 10101`

## 3.11 ##

按出错的位之间的相对位置分类讨论. 

**出 1 位错**:

其所在行, 列的校验同时出错;

**出 2 位错**:

**不同行 (列)** 两行, 两列的校验同时出错;

**同行 (列)** 没有行 (列) 校验出错, 两个列 (行) 校验出错.

**出 3 位错**: (只讨论**行**, 列由对称性可得)

**不同行且不同列** 3 个行校验, 3 个列校验同时出错;

**其中 2 个同行, 另一个在另一行, 互相不同列** 1 行的行校验出错, 3 列的列校验出错; 

**3 个都在同一行** 1 行的行校验出错, 3 列的列校验出错;

**其中 2 个同行, 另一个与其中一个同列** 1 个行校验和 1 个列校验出错. 

根据以上讨论可知, 出 1 到 3 位错都能被发现 (虽然不能被纠错). 

如果出 4 个错, 且出错的 4 位恰构成一个长方形, 那么任意行列校验都不出错, 错误无法检出.  

## 3.20 ##

当发送方向信道发送帧的时间与数据帧到接收方和接收方的确认帧回到发送方的用时之和相等时, 停等协议的效率恰好是 50%. 

上述后者的用时是传输延迟的 2 倍, 即 40 ms. 在这么长的时间中能发送的位数是 4 kbps \* 40 ms = 160 bits. 即, 帧大小不短于 160 bits 时, 该信道上的停等协议效率不低于 50%.  

## 3.21 ##

这是可能的. 

如果发送方在发送一帧后, 该帧计时器超时前, 收到该帧的确认; 那么, 发送方将立即发送下一帧, 从而启动下一帧的计时器. 此时, 上一帧的计时器还在运行. 

## 3.22 ##

传输延迟是 3000 km \* 6 μs/km = 18 ms. T1 线路的数据速率是 1.536 Mbps, 该 64 Bytes 帧的发送用时是 0.3 ms. 那么, 一帧数据从开始发送到其到达接收方的用时是 18.3 ms, 确认还需要 18 ms 返回发送方, 总计是 36.3 ms. 

为了保证效率, 发送方在这段时间内要能够持续发送而不致序号用尽. 36.3 ms 能发送 121 帧, 序号空间不能少于这个值. 因此序号至少需要 7 位. 

## 3.32 ##

发送方发送 1 帧需要 1 ms, 传输到接收方需要 270 ms, 接收方发送捎带确认的数据帧需要 1 ms, 捎带确认的帧传回发送方再需 270 ms; 以上总计 542 ms. 那么, 效率取决于在这段时间中能连续发送的帧数. 

**(a)** 停等协议只能发送 1 帧, 与序号长度无关. 效率是 1/542≈0.18%;

**(b)** 协议 5 可以将整个序号空间同时用于发送. 效率是 7/542≈1.29%;

**(c)** 协议 6 只能利用序号空间的一半. 效率是 4/542≈0.74%. 